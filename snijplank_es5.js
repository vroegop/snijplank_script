'use strict';window.errors=[];var dropdown=document.querySelector('[name*=keuze_afbeelding]');function loadScript(a){var c=document.createElement('script');c.type='text/javascript',c.async=!0,c.src=a;var d=document.getElementsByTagName('script')[0];d.parentNode.insertBefore(c,d)}if(loadScript('https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.28/webfontloader.js'),loadScript('https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js'),dropdown){var getImage=function(){var a='/images_snijplank/'+dropdown.value.toLowerCase().trim().replace(' ','')+'.png';return fetch(a).then(function(c){return c.arrayBuffer().then(function(d){return'data:image/jpeg;base64,'+arrayBufferToBase64(d)})})},arrayBufferToBase64=function(a){var c='',d=[].slice.call(new Uint8Array(a));return d.forEach(function(e){return c+=String.fromCharCode(e)}),window.btoa(c)},setOverlayImage=function(a){var c=document.createElement('img');c.style.maxWidth=_percentagePx(productImage.clientWidth,25),c.style.maxHeight=_percentagePx(productImage.clientHeight,25),c.style.left=_percentagePx(productImage.clientWidth,8),c.style.top=_percentagePx(productImage.clientHeight,10),c.style.opacity='0.8',c.style.position='absolute',c.classList.add('snijplank_afbeelding'),c.setAttribute('src',a),productImageContainer.appendChild(c)},_percentagePx=function(a,c){return a/100*c+'px'},removeOldImages=function(){var a=document.getElementsByClassName('snijplank_afbeelding'),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var d,c=a[Symbol.iterator]();!(_iteratorNormalCompletion=(d=c.next()).done);_iteratorNormalCompletion=!0)elem=d.value,elem.parentNode.removeChild(elem)}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{!_iteratorNormalCompletion&&c.return&&c.return()}finally{if(_didIteratorError)throw _iteratorError}}},productImage=document.querySelector('p.article img'),productImageContainer=productImage.parentElement;productImageContainer.style.position='relative';dropdown.addEventListener('change',function(){0!=dropdown.selectedIndex&&(removeOldImages(),getImage().then(function(a){setOverlayImage(a)}).catch(function(a){return window.errors.push(a)}))})}var inputEl=document.querySelector('[name*=tekst_]'),fontSelect=document.querySelector('[name*=keuze_lettertype]');if(fontSelect){var createFontArray=function(){for(var a=[],c=0;c<fontSelect.options.length;c++)0!=c&&a.push(fontSelect.options[c].value.toLowerCase().replace(/\b\w/g,function(d){return d.toUpperCase()}));return a},createTextHolder=function(a){var c=document.createElement('p');c.classList.add('snijplank-text-holder'),c.style.position='absolute',c.style.left=percentagePx(productImage.clientWidth,8),c.style.top=percentagePx(productImage.clientHeight,36),c.style.fontFamily=fontSelect.options[fontSelect.selectedIndex].value.toLowerCase().replace(/\b\w/g,function(d){return d.toUpperCase()}),c.style.opacity='0.7';var a=document.createTextNode(a);return c.appendChild(a),c},addTextHolderToSnijplank=function(a){productImageContainer.appendChild(a)},removeTextHolders=function(){var a=document.getElementsByClassName('snijplank-text-holder'),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var d,c=a[Symbol.iterator]();!(_iteratorNormalCompletion2=(d=c.next()).done);_iteratorNormalCompletion2=!0)elem=d.value,elem.parentNode.removeChild(elem)}catch(e){_didIteratorError2=!0,_iteratorError2=e}finally{try{!_iteratorNormalCompletion2&&c.return&&c.return()}finally{if(_didIteratorError2)throw _iteratorError2}}};setTimeout(function(){WebFont.load({google:{families:createFontArray()}})},100),inputEl.addEventListener('input',function(){inputEl.value&&(removeTextHolders(),addTextHolderToSnijplank(createTextHolder(inputEl.value)))})}
